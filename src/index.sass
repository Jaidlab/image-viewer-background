// Use CSS custom properties to avoid Sass hsl() function conflicts
\:root
  --transparency-pattern-darkness: 25%
  --transparency-pattern-size: 3vmin
  --transparency-pattern-animation-speed: 2s
  --transparency-pattern-size-half: calc(var(--transparency-pattern-size) / 2)
  --transparency-pattern-size-1-5: calc(var(--transparency-pattern-size) * 1.5)

body
  height: 100vh
  width: 100vw
  display: flex
  justify-content: center
  align-items: center
  overflow: hidden

// --- CSS TOGGLE LOGIC START ---

// 1. Hide the actual radio inputs
input[name="bg-toggle"]
  display: none

// 2. Make labels cover the screen and act as the click trigger
.bg-trigger
  position: absolute
  top: 0
  left: 0
  width: 100%
  height: 100%
  cursor: pointer
  z-index: 1
  display: none

// 3. Cycle logic: Determines which label is clickable next

#bg-default:checked ~ #transparency .trigger-green
  display: block

#bg-green:checked ~ #transparency .trigger-white
  display: block

#bg-white:checked ~ #transparency .trigger-black
  display: block

#bg-black:checked ~ #transparency .trigger-default
  display: block

// 4. Style changes based on checked input

#bg-green:checked ~ #transparency
  background: #00ff00
  background-image: none
  animation: none

#bg-white:checked ~ #transparency
  background: #ffffff
  background-image: none
  animation: none

#bg-black:checked ~ #transparency
  background: #000000
  background-image: none
  animation: none

// --- CSS TOGGLE LOGIC END ---

#transparency
  background: hsl(0 0% calc(var(--transparency-pattern-darkness) - 5%))
  background-image: linear-gradient(45deg, hsl(0 0% var(--transparency-pattern-darkness)) 25%, transparent 25%), linear-gradient(135deg, hsl(0 0% var(--transparency-pattern-darkness)) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, hsl(0 0% var(--transparency-pattern-darkness)) 75%), linear-gradient(135deg, transparent 75%, hsl(0 0% var(--transparency-pattern-darkness)) 75%)
  background-size: var(--transparency-pattern-size) var(--transparency-pattern-size)
  background-position: 0 0, var(--transparency-pattern-size-half) 0, var(--transparency-pattern-size-half) calc(-1 * var(--transparency-pattern-size-half)), 0 var(--transparency-pattern-size-half)
  animation: moveBackground var(--transparency-pattern-animation-speed) linear infinite
  animation-play-state: paused
  position: fixed
  width: 100%
  height: 100%
  z-index: 0

#bg-default:checked ~ #transparency:hover
  animation-play-state: running

@keyframes moveBackground
  0%
    background-position: 0 0, var(--transparency-pattern-size-half) 0, var(--transparency-pattern-size-half) calc(-1 * var(--transparency-pattern-size-half)), 0 var(--transparency-pattern-size-half)
  100%
    background-position: var(--transparency-pattern-size) var(--transparency-pattern-size), var(--transparency-pattern-size-1-5) var(--transparency-pattern-size), var(--transparency-pattern-size-1-5) var(--transparency-pattern-size-half), var(--transparency-pattern-size) var(--transparency-pattern-size-1-5)

#main
  position: relative
  z-index: 10
  pointer-events: none
  display: flex
  justify-content: center
  align-items: center

  img
    max-width: 100vw
    max-height: 100vh
    object-fit: contain
    pointer-events: auto
